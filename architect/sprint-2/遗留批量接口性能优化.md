# 遗留批量接口性能优化

## 1. 问题描述

目前系统中存在大量提交批量数据的接口，这些接口在数据量较大时会导致系统性能下降，甚至出现超时的情况。

## 2. 问题分析

| No.  | 标题                                       | 问题描述                                                   | 问题原因                                                         | 解决方案                                               |
| ---- | ------------------------------------------ | ---------------------------------------------------------- | ---------------------------------------------------------------- | ------------------------------------------------------ |
| 2584 | 【数据库异常】死锁问题                     | 由于长事务占用连接，导致数据库连接池耗尽，无法处理新的请求 | 1. 事务过长，导致数据库连接池耗尽<br>2. 事务过长，导致数据库锁定 | 1. 优化事务，减少事务长度<br>2. 优化事务，减少事务长度 |
| 1652 | 【绩效批量变动】人多的单位加载人员时间较长 | 由于长事务占用连接，导致数据库连接池耗尽，无法处理新的请求 | 1. 事务过长，导致数据库连接池耗尽<br>2. 事务过长，导致数据库锁定 | 1. 优化事务，减少事务长度<br>2. 优化事务，减少事务长度 |
